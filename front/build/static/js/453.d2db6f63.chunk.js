"use strict";(self.webpackChunkweb_scada=self.webpackChunkweb_scada||[]).push([[453],{51633:function(e,n,r){r.r(n),r.d(n,{default:function(){return R}});var t=r(81153),a=r(4567),i=r(74165),o=r(15861),c=r(29439),l=r(72791),s=r(57689),d=r(95791),u=r(47968),p=r(68870),h=r(94721),Z=r(36314),x=r(5849),f=r(5896),m=r(80184);var v=function(e){var n=e.device,r=e.onOpen;return(0,m.jsx)(t.ZP,{item:!0,xs:14,sm:8,md:5,lg:4,children:(0,m.jsxs)(f.Z,{contentSX:{p:2.25},children:[(0,m.jsx)(p.Z,{children:(0,m.jsx)(t.ZP,{container:!0,sx:{mb:1.5},children:(0,m.jsx)(t.ZP,{item:!0,xs:!0,children:(0,m.jsx)(a.Z,{variant:"h3",children:n.name||"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0437\u0430\u0434\u0430\u043d\u043e"})})})}),(0,m.jsx)(h.Z,{component:"div",primary:"dark"}),(0,m.jsxs)(t.ZP,{sx:{mt:1.5},children:[(0,m.jsxs)(Z.Z,{spacing:1,children:[(0,m.jsx)(a.Z,{variant:"h6",children:"ip: "+n.ip}),(0,m.jsx)(a.Z,{variant:"h6",children:"\u041f\u043e\u0440\u0442: "+n.port}),(0,m.jsx)(a.Z,{variant:"h6",children:"\u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b: "+n.interfaceConnect})]}),(0,m.jsx)(x.Z,{onClick:function(){return r(n._id,n.name)},children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0442\u0435\u0433\u043e\u0432"})]})]})})},g=r(5574),b=r(65661),j=r(71554),S=r(77386),k=r(55261),w=r(4841),W=r(15416),P=r(22041),y=r(9195),D=r(68745),C=r(62155);var M=function(e){var n=e.rows;return(0,m.jsx)(k.Z,{component:w.Z,children:(0,m.jsxs)(W.Z,{"aria-label":"simple table",children:[(0,m.jsx)(P.Z,{children:(0,m.jsx)(y.Z,{children:Object.keys(n[0]).map((function(e){return(0,m.jsx)(D.Z,{children:e})}))})}),(0,m.jsx)(C.Z,{children:null===n||void 0===n?void 0:n.map((function(e){return(0,m.jsx)(y.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:Object.keys(n[0]).map((function(n){return(0,m.jsx)(D.Z,{children:e[n]})}))},e.nameData)}))})]})})},B=r(91933);var F=function(){var e=(0,s.TH)().state,n=(0,l.useState)(!1),r=(0,c.Z)(n,2),p=r[0],h=r[1],Z=(0,l.useState)(""),k=(0,c.Z)(Z,2),w=k[0],W=k[1],P=(0,l.useState)([]),y=(0,c.Z)(P,2),D=y[0],C=y[1],F=(0,l.useState)(null),R=(0,c.Z)(F,2),T=R[0],A=R[1],N=(0,l.useState)([]),X=(0,c.Z)(N,2),E=X[0],I=X[1],O=(0,u.U)((0,o.Z)((0,i.Z)().mark((function n(){var r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.Z.getDevices(e);case 2:r=n.sent,C(r.devices);case 4:case"end":return n.stop()}}),n)})))),H=(0,c.Z)(O,1)[0],K=(0,B.useQuery)(["programPack",T],(function(){return d.Z.getProgramPacks(T)}),{select:function(e){return null===e||void 0===e?void 0:e.programPack},onSuccess:function(e){A(null),I(e)},refetchOnWindowFocus:!1,enabled:!!T}),L=K.isLoading,Y=K.error,_=function(e,n){h(!0),W(n),A(e)},U=function(){h(!1)};return(0,l.useEffect)((function(){H()}),[]),(0,m.jsxs)(m.Fragment,{children:[D.length>0?D.map((function(e){return(0,m.jsx)(v,{onOpen:_,device:e})})):(0,m.jsx)(t.ZP,{item:!0,xs:14,sm:8,md:5,lg:4,children:(0,m.jsx)(f.Z,{contentSX:{p:2.25},children:"\u041d\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c \u0438\u043b\u0438 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"})}),(0,m.jsxs)(g.Z,{maxWidth:"xl",onClose:U,open:p,children:[(0,m.jsx)(b.Z,{children:(0,m.jsx)(a.Z,{variant:"h2",children:w})}),L||0===E.length?(0,m.jsx)(t.ZP,{container:!0,justifyContent:"center",children:(0,m.jsx)(j.Z,{})}):Y?(0,m.jsx)("p",{children:"\u041e\u0448\u0438\u0431\u043a\u0430 "}):(0,m.jsx)(M,{rows:E}),(0,m.jsx)(S.Z,{children:(0,m.jsx)(x.Z,{variant:"outlined",onClick:U,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})]})},R=function(){return(0,m.jsxs)(t.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,m.jsx)(t.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,m.jsx)(a.Z,{variant:"h5",children:"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"})}),(0,m.jsx)(F,{})]})}},47968:function(e,n,r){r.d(n,{U:function(){return u}});var t=r(74165),a=r(15861),i=r(29439),o=r(72791),c=r(57689),l=r(42528),s=r(59434),d=r(94346),u=(r(80184),function(e){var n=(0,o.useState)(!1),r=(0,i.Z)(n,2),u=r[0],p=r[1],h=(0,o.useState)(""),Z=(0,i.Z)(h,2),x=Z[0],f=Z[1],m=((0,c.TH)(),(0,s.I0)()),v=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(){var r=arguments;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,p(!0),n.next=4,e.apply(void 0,r);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),n.t0 instanceof l.a?1004===n.t0.status&&(console.log(n.t0.status),m((0,d.kX)()),c.Fg):f(n.t0.message);case 9:return n.prev=9,p(!1),n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[0,6,9,12]])})));return function(){return n.apply(this,arguments)}}();return[v,u,x]})},77386:function(e,n,r){var t=r(63366),a=r(87462),i=r(72791),o=r(28182),c=r(94419),l=r(66934),s=r(31402),d=r(25552),u=r(80184),p=["className","disableSpacing"],h=(0,l.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,!r.disableSpacing&&n.spacing]}})((function(e){var n=e.ownerState;return(0,a.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),Z=i.forwardRef((function(e,n){var r=(0,s.Z)({props:e,name:"MuiDialogActions"}),i=r.className,l=r.disableSpacing,Z=void 0!==l&&l,x=(0,t.Z)(r,p),f=(0,a.Z)({},r,{disableSpacing:Z}),m=function(e){var n=e.classes,r={root:["root",!e.disableSpacing&&"spacing"]};return(0,c.Z)(r,d.d,n)}(f);return(0,u.jsx)(h,(0,a.Z)({className:(0,o.Z)(m.root,i),ownerState:f,ref:n},x))}));n.Z=Z},25552:function(e,n,r){r.d(n,{d:function(){return i}});var t=r(75878),a=r(21217);function i(e){return(0,a.Z)("MuiDialogActions",e)}var o=(0,t.Z)("MuiDialogActions",["root","spacing"]);n.Z=o},17673:function(e,n,r){r.d(n,{a:function(){return i}});var t=r(75878),a=r(21217);function i(e){return(0,a.Z)("MuiDialogTitle",e)}var o=(0,t.Z)("MuiDialogTitle",["root"]);n.Z=o},5574:function(e,n,r){var t=r(4942),a=r(63366),i=r(87462),o=r(72791),c=r(28182),l=r(94419),s=r(96248),d=r(14036),u=r(28711),p=r(60627),h=r(4841),Z=r(31402),x=r(66934),f=r(17780),m=r(85090),v=r(18060),g=r(13967),b=r(80184),j=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],S=(0,x.ZP)(v.Z,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,n){return n.backdrop}})({zIndex:-1}),k=(0,x.ZP)(u.Z,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,n){return n.root}})({"@media print":{position:"absolute !important"}}),w=(0,x.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,n){var r=e.ownerState;return[n.container,n["scroll".concat((0,d.Z)(r.scroll))]]}})((function(e){var n=e.ownerState;return(0,i.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===n.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===n.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),W=(0,x.ZP)(h.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,n){var r=e.ownerState;return[n.paper,n["scrollPaper".concat((0,d.Z)(r.scroll))],n["paperWidth".concat((0,d.Z)(String(r.maxWidth)))],r.fullWidth&&n.paperFullWidth,r.fullScreen&&n.paperFullScreen]}})((function(e){var n=e.theme,r=e.ownerState;return(0,i.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===r.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===r.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!r.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===r.maxWidth&&(0,t.Z)({maxWidth:"px"===n.breakpoints.unit?Math.max(n.breakpoints.values.xs,444):"".concat(n.breakpoints.values.xs).concat(n.breakpoints.unit)},"&.".concat(f.Z.paperScrollBody),(0,t.Z)({},n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),r.maxWidth&&"xs"!==r.maxWidth&&(0,t.Z)({maxWidth:"".concat(n.breakpoints.values[r.maxWidth]).concat(n.breakpoints.unit)},"&.".concat(f.Z.paperScrollBody),(0,t.Z)({},n.breakpoints.down(n.breakpoints.values[r.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),r.fullWidth&&{width:"calc(100% - 64px)"},r.fullScreen&&(0,t.Z)({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(f.Z.paperScrollBody),{margin:0,maxWidth:"100%"}))})),P=o.forwardRef((function(e,n){var r=(0,Z.Z)({props:e,name:"MuiDialog"}),t=(0,g.Z)(),u={enter:t.transitions.duration.enteringScreen,exit:t.transitions.duration.leavingScreen},x=r["aria-describedby"],v=r["aria-labelledby"],P=r.BackdropComponent,y=r.BackdropProps,D=r.children,C=r.className,M=r.disableEscapeKeyDown,B=void 0!==M&&M,F=r.fullScreen,R=void 0!==F&&F,T=r.fullWidth,A=void 0!==T&&T,N=r.maxWidth,X=void 0===N?"sm":N,E=r.onBackdropClick,I=r.onClose,O=r.open,H=r.PaperComponent,K=void 0===H?h.Z:H,L=r.PaperProps,Y=void 0===L?{}:L,_=r.scroll,U=void 0===_?"paper":_,z=r.TransitionComponent,Q=void 0===z?p.Z:z,q=r.transitionDuration,G=void 0===q?u:q,J=r.TransitionProps,V=(0,a.Z)(r,j),$=(0,i.Z)({},r,{disableEscapeKeyDown:B,fullScreen:R,fullWidth:A,maxWidth:X,scroll:U}),ee=function(e){var n=e.classes,r=e.scroll,t=e.maxWidth,a=e.fullWidth,i=e.fullScreen,o={root:["root"],container:["container","scroll".concat((0,d.Z)(r))],paper:["paper","paperScroll".concat((0,d.Z)(r)),"paperWidth".concat((0,d.Z)(String(t))),a&&"paperFullWidth",i&&"paperFullScreen"]};return(0,l.Z)(o,f.D,n)}($),ne=o.useRef(),re=(0,s.Z)(v),te=o.useMemo((function(){return{titleId:re}}),[re]);return(0,b.jsx)(k,(0,i.Z)({className:(0,c.Z)(ee.root,C),closeAfterTransition:!0,components:{Backdrop:S},componentsProps:{backdrop:(0,i.Z)({transitionDuration:G,as:P},y)},disableEscapeKeyDown:B,onClose:I,open:O,ref:n,onClick:function(e){ne.current&&(ne.current=null,E&&E(e),I&&I(e,"backdropClick"))},ownerState:$},V,{children:(0,b.jsx)(Q,(0,i.Z)({appear:!0,in:O,timeout:G,role:"presentation"},J,{children:(0,b.jsx)(w,{className:(0,c.Z)(ee.container),onMouseDown:function(e){ne.current=e.target===e.currentTarget},ownerState:$,children:(0,b.jsx)(W,(0,i.Z)({as:K,elevation:24,role:"dialog","aria-describedby":x,"aria-labelledby":re},Y,{className:(0,c.Z)(ee.paper,Y.className),ownerState:$,children:(0,b.jsx)(m.Z.Provider,{value:te,children:D})}))})}))}))}));n.Z=P},85090:function(e,n,r){var t=r(72791).createContext({});n.Z=t},17780:function(e,n,r){r.d(n,{D:function(){return i}});var t=r(75878),a=r(21217);function i(e){return(0,a.Z)("MuiDialog",e)}var o=(0,t.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);n.Z=o}}]);
//# sourceMappingURL=453.d2db6f63.chunk.js.map