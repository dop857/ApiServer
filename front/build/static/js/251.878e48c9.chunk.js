"use strict";(self.webpackChunkweb_scada=self.webpackChunkweb_scada||[]).push([[251],{5338:function(e,n,t){var r=t(3967),a=t(5193),i=t(2411),s=t(9900),c=t(4567),o=t(8870),u=t(986),d=t(395),l=t(9616),m=t(184);n.Z=function(e){var n,t=e.props,p=t.name,x=t.value,h=t.progress,v=t.unit,j=(0,r.Z)(),Z=(0,a.Z)(j.breakpoints.only("xs")),f="";return"time"===v?n=x>0?Z?(0,d._F)(x):(0,d.uQ)(x):0:"string"===typeof x||x instanceof String?n=x:(f=v,n=isNaN(x)?0:(0,l.Z)(x)),(0,m.jsxs)(i.ZP,{item:!0,sx:{p:0,pt:1.25,pb:1.25,borderBottom:"1px solid #f0f0f0",flexWrap:Z?"wrap":"nowrap"},children:[(0,m.jsx)(s.Z,{sx:{mr:1},primary:(0,m.jsxs)(c.Z,{variant:"body1",children:[p," "]})}),!h&&(0,m.jsxs)(c.Z,{sx:{textAlign:"right"},variant:"h5",children:["".concat(n," ").concat(f)," "]}),h&&(0,m.jsxs)(o.Z,{sx:{minWidth:Z?"100%":"40%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,m.jsx)(o.Z,{sx:{width:"100%",mr:1},children:(0,m.jsx)(u.Z,{color:"primary",variant:"determinate",value:isNaN(x)?0:Math.round(x)})}),(0,m.jsx)(o.Z,{sx:{minWidth:35},children:(0,m.jsx)(c.Z,{sx:{textAlign:"right"},variant:"h5",children:"".concat(isNaN(x)?0:Math.round(x),"% ")})})]})]})}},1251:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r,a,i=t(1153),s=t(4567),c=t(1413),o=t(9439),u=t(3967),d=t(8806),l=t(9008),m=t(2944),p=t(1753),x=t(5771),h=t(8870),v=t(184),j=function(e){var n=e.props,t=n.name,c=n.product,o=n.status,d=n.active,l=(0,u.Z)();return 1===o?(r="\u0417\u0430\u043f\u0443\u0449\u0435\u043d\u0430",a="success"):2===o?(r="\u0410\u0432\u0430\u0440\u0438\u044f",a="error"):(r="\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430",a="secondary"),(0,v.jsxs)(i.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,v.jsxs)(i.ZP,{container:!0,item:!0,justifyContent:"space-between",children:[(0,v.jsx)(s.Z,{variant:"h5",children:t}),(0,v.jsx)(x.Z,{label:r,color:a})]}),(0,v.jsx)(i.ZP,{item:!0,children:(0,v.jsx)(s.Z,{sx:{mt:1},variant:"h5",color:"textSecondary",children:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442: "+c})}),(0,v.jsx)(h.Z,{sx:{position:"absolute",left:"50%",top:"80%",right:0,bottom:0,color:l.palette.secondary.main,transition:"all 1s ease"},children:(0,v.jsx)(p.Z,{rotate:d?180:0})})]})},Z=t(6314),f=t(5896),b=t(6307),g=t(9616),y=function(e){var n=e.props,t=n.name,r=n.value,a=n.unit;return(0,v.jsx)(i.ZP,{item:!0,children:(0,v.jsxs)(i.ZP,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,v.jsx)(i.ZP,{item:!0,children:(0,v.jsx)(s.Z,{variant:"h6",color:"secondary",children:t})}),(0,v.jsxs)(i.ZP,{container:!0,item:!0,direction:"column",sx:{mt:1.75},justifyContent:"center",alignItems:"center",children:[(0,v.jsx)(s.Z,{variant:"h3",children:(0,g.Z)(r)||0}),(0,v.jsx)(s.Z,{sx:{textAlign:"center",mt:-.5},variant:"h6",color:"secondary",children:a})]})]})})},P=t(9671),S=function(e){var n=e.percent,t=e.successPercent,r=e.theme;return(0,v.jsxs)(i.ZP,{container:!0,direction:"column",sx:{mt:3,height:"100%",fontSize:20},justifyContent:"center",alignItems:"center",children:[(0,v.jsx)(i.ZP,{item:!0,sx:{fontSize:20},children:(0,v.jsx)(s.Z,{align:"center",sx:{fontWeight:500,fontSize:"2.25rem",lineHeight:1.21},color:r.palette.primary.main,children:t+"%"})}),(0,v.jsx)(i.ZP,{item:!0,children:(0,v.jsx)(s.Z,{align:"center",variant:"h5",color:r.palette.error[300],children:n+"%"})})]})},C=function(e){var n=e.props,t=n.width,r=n.percentExpected,a=n.percentSuccess,i=n.theme;return(0,v.jsx)(P.Z,{format:function(e,n){return(0,v.jsx)(S,{percent:e,successPercent:n,theme:i})},strokeColor:i.palette.error[300],percent:Math.floor(r),success:{percent:Math.floor(a),strokeColor:i.palette.primary.main},type:"circle",showInfo:!0,size:t,trailColor:i.palette.secondary[100],strokeWidth:7.5})},k=function(e){var n=e.task,t=e.percentExpected,r=e.percentSuccess,a=(0,u.Z)(),c=(0,b.NB)(),o=c.width,d=c.ref;return(0,v.jsx)(f.Z,{contentSX:{p:0,"&:last-child":{p:0}},sx:{height:"100%"},children:(0,v.jsxs)(Z.Z,{children:[(0,v.jsx)(i.ZP,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",sx:{p:2.5,borderBottom:"1px solid #f0f0f0"},children:(0,v.jsx)(y,{props:n})}),(0,v.jsxs)(i.ZP,{container:!0,justifyContent:"center",ref:d,children:[(0,v.jsx)(i.ZP,{item:!0,sx:{pt:3.75,pb:3.75},children:(0,v.jsx)(C,{props:{width:.67*o>250?250:.67*o,percentExpected:t,percentSuccess:r,theme:a}})}),(0,v.jsxs)(i.ZP,{direction:"column",container:!0,item:!0,sx:{p:2.5,pt:0},children:[(0,v.jsxs)(i.ZP,{container:!0,item:!0,justifyContent:"center",alignItems:"center",children:[(0,v.jsx)(h.Z,{sx:{width:15,height:15,backgroundColor:a.palette.primary.main,borderRadius:"4px",mr:1.25},color:"secondary"}),(0,v.jsx)(s.Z,{variant:"h6",color:"secondary",children:"\u0424\u0430\u043a\u0442"})]}),(0,v.jsxs)(i.ZP,{container:!0,item:!0,sx:{mt:2},justifyContent:"center",alignItems:"center",children:[(0,v.jsx)(h.Z,{sx:{width:15,height:15,backgroundColor:a.palette.error[300],borderRadius:"4px",mr:1.25},color:"secondary"}),(0,v.jsx)(s.Z,{variant:"h6",color:"secondary",children:"\u041f\u043b\u0430\u043d"})]})]})]})]})})},w=t(1501),N=t(1933),I=t(2791),F=t(3236),M=t(5849),A=t(5338),E=t(1087),W=function(e){var n=e.props,t=n.id,r=n.productName,a=n.value,s=a.slice(0,3),o=a.slice(3);return(0,v.jsxs)(f.Z,{contentSX:{p:0,"&:last-child":{p:0}},sx:{height:"100%"},children:[(0,v.jsx)(i.ZP,{container:!0,sx:{p:2.5,borderBottom:"1px solid #f0f0f0"},justifyContent:"space-around",rowSpacing:3,columnSpacing:2,children:s.length>0?s.map((function(e){return(0,v.jsx)(y,{props:e},e)})):(0,v.jsx)(y,{props:{value:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442"}})}),(0,v.jsxs)(i.ZP,{container:!0,sx:{p:2.5},children:[(0,v.jsxs)(F.Z,{sx:{width:"100%",p:0},children:[(0,v.jsx)(A.Z,{props:{name:"\u0412\u0438\u0434 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430",value:r.product}}),o.length>0?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(A.Z,{props:o[0]},o[0].value),(0,v.jsx)(A.Z,{props:o[1]},o[1].value),(0,v.jsx)(A.Z,{props:o[2]},o[2].value),(0,v.jsx)(A.Z,{props:(0,c.Z)((0,c.Z)({},o[3]),{},{value:s[2].value*(1/(o[0].value/3600))/o[1].value*100})},o[3].value),(0,v.jsx)(A.Z,{props:(0,c.Z)((0,c.Z)({},o[4]),{},{value:Number(s[1].value)/(Number(s[1].value)+Number(s[2].value))*100})},o[4].value)]}):(0,v.jsx)(A.Z,{props:{value:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442"}})]}),(0,v.jsx)(i.ZP,{container:!0,justifyContent:"end",mt:2,children:(0,v.jsx)(E.rU,{to:"/line/".concat(t),children:(0,v.jsx)(M.Z,{children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})},t)})]})]})},_=function(e){var n=e.props,t=n.id,r=n.task,a=n.dataSummary,s=n.arrProgramPack,p=n.initialContent,x=(0,u.Z)(),h=(0,I.useState)(p),Z=(0,o.Z)(h,2),f=Z[0],b=Z[1],g=(0,I.useState)(!1),y=(0,o.Z)(g,2),P=y[0],S=y[1],C=(0,N.useQuery)(["arrProgram",s],(function(){return w.Z.getProgramPackArray(s)}),{select:function(e){return e.p},refetchInterval:1e3,enabled:!!s,refetchOnWindowFocus:!1}),F=(C.isLoading,C.isError,C.data);C.error;return(0,I.useMemo)((function(){var e=f;null===F||void 0===F||F.forEach((function(n){null===e||void 0===e||e.forEach((function(e){n._id===e.id&&(e.value=n.lastAnswerDec)})),b(e)}))}),[F]),(0,v.jsxs)(d.Z,{sx:{background:"transparent",boxShadow:"none"},onChange:function(){return S(!P)},children:[(0,v.jsx)(l.Z,{"aria-controls":"panel1a-content",id:"panel1a-header",sx:{border:"1px solid ".concat(x.palette.grey.A800),borderRadius:"8px",p:3,backgroundColor:"#FFFFFF",".MuiAccordionSummary-content":{m:0,"&.Mui-expanded":{m:0}}},children:(0,v.jsx)(j,{props:(0,c.Z)((0,c.Z)({},a),{},{active:P,status:Number(f[9].value)})})}),(0,v.jsx)(m.Z,{sx:{background:"transparent",p:0,mt:2.75},children:(0,v.jsxs)(i.ZP,{container:!0,item:!0,spacing:2.75,alignItems:"stretch",children:[(0,v.jsx)(i.ZP,{item:!0,xs:12,sm:4,md:4,lg:3,children:(0,v.jsx)(k,{task:r,percentExpected:1.7*(Number(f[4].value)+Number(f[5].value))/r.value*100,percentSuccess:f[2].value/r.value*100})}),(0,v.jsx)(i.ZP,{item:!0,xs:12,sm:8,md:8,lg:9,children:(0,v.jsx)(W,{props:{id:t,value:f,productName:a}})})]})})]})},z=[{id:1,dataSummary:{name:"\u041b\u0438\u043d\u0438\u044f 1 - \u0441\u0442\u0435\u043a\u043b\u043e",product:"\u0411\u0435\u043b\u0435\u043d\u044c\u043a\u0430\u044f 0,25",status:1},arrProgramPack:{programPack:["647ead32652edbe984336ec6","648c06abbd303e9d80166738","647ebb41652edbe984336ed9","648c06f4bd303e9d80166739","648c0731bd303e9d8016673a","648fe4ecbd303e9d8016673d","648c0657bd303e9d80166737"]},task:{name:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435",value:18e3,unit:"\u0448\u0442"},initialContent:[{id:"647ead32652edbe984336ec6",name:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",value:12e3,unit:"\u0448\u0442/\u0447"},{id:"648fe4ecbd303e9d8016673d",name:"\u0411\u0440\u0430\u043a",value:1e5,unit:"\u0448\u0442"},{id:"647ebb41652edbe984336ed9",name:"\u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043e",value:1e6,unit:"\u0448\u0442"},{name:"\u041f\u043b\u0430\u043d\u043e\u0432\u0430\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",value:6200,unit:"\u0448\u0442/\u0447"},{id:"648c06f4bd303e9d80166739",name:"\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043d\u0430\u0447\u0430\u043b\u0430 \u0437\u0430\u0434\u0430\u043d\u0438\u044f",value:1e6,unit:"time"},{id:"648c0731bd303e9d8016673a",name:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u044f \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",value:78,unit:"time"},{name:"\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",value:95,unit:"%",progress:!0},{name:"\u0411\u0440\u0430\u043a",value:5,unit:"%",progress:!0},{name:"\u0420\u0430\u0437\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0444\u0430\u043a\u0442 \u043e\u0442 \u043f\u043b\u0430\u043d\u0430",value:5,unit:"%",progress:!0},{id:"648c0657bd303e9d80166737",name:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043b\u0438\u043d\u0438\u0438",value:0,unit:""}]},{id:2,dataSummary:{name:"\u041b\u0438\u043d\u0438\u044f 2 - \u041f\u042d\u0422",product:"\u0427\u0435\u0440\u043d\u043e\u0433\u043e\u043b\u043e\u0432\u043a\u0430 0,5",status:0},task:{name:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435",value:15e3,unit:"\u0448\u0442"},initialContent:[{id:"647ead32652edbe984336ec6",name:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",value:12e3,unit:"\u0448\u0442/\u0447"},{id:"648fe4ecbd303e9d8016673d",name:"\u0411\u0440\u0430\u043a",value:1e5,unit:"\u0448\u0442"},{id:"647ebb41652edbe984336ed9",name:"\u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043e",value:1e6,unit:"\u0448\u0442"},{name:"\u041f\u043b\u0430\u043d\u043e\u0432\u0430\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",value:6200,unit:"\u0448\u0442/\u0447"},{id:"648c06f4bd303e9d80166739",name:"\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043d\u0430\u0447\u0430\u043b\u0430 \u0437\u0430\u0434\u0430\u043d\u0438\u044f",value:1e6,unit:"time"},{id:"648c0731bd303e9d8016673a",name:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u044f \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",value:78,unit:"time"},{name:"\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",value:95,unit:"%",progress:!0},{name:"\u0411\u0440\u0430\u043a",value:5,unit:"%",progress:!0},{name:"\u0420\u0430\u0437\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0444\u0430\u043a\u0442 \u043e\u0442 \u043f\u043b\u0430\u043d\u0430",value:5,unit:"%",progress:!0},{id:"648c0657bd303e9d80166737",name:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043b\u0438\u043d\u0438\u0438",value:0,unit:""}]},{id:3,dataSummary:{name:"\u041b\u0438\u043d\u0438\u044f 3 - \u0431\u0430\u043d\u043a\u0438",product:"\u041a\u0432\u0430\u0441 1,5",status:0},task:{name:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435",value:15e3,unit:"\u0448\u0442"},initialContent:[{id:"647ead32652edbe984336ec6",name:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",value:12e3,unit:"\u0448\u0442/\u0447"},{id:"648fe4ecbd303e9d8016673d",name:"\u0411\u0440\u0430\u043a",value:1e5,unit:"\u0448\u0442"},{id:"647ebb41652edbe984336ed9",name:"\u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043e",value:1e6,unit:"\u0448\u0442"},{name:"\u041f\u043b\u0430\u043d\u043e\u0432\u0430\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",value:6200,unit:"\u0448\u0442/\u0447"},{id:"648c06f4bd303e9d80166739",name:"\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043d\u0430\u0447\u0430\u043b\u0430 \u0437\u0430\u0434\u0430\u043d\u0438\u044f",value:1e6,unit:"time"},{id:"648c0731bd303e9d8016673a",name:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u044f \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",value:78,unit:"time"},{name:"\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",value:95,unit:"%",progress:!0},{name:"\u0411\u0440\u0430\u043a",value:5,unit:"%",progress:!0},{name:"\u0420\u0430\u0437\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0444\u0430\u043a\u0442 \u043e\u0442 \u043f\u043b\u0430\u043d\u0430",value:5,unit:"%",progress:!0},{id:"648c0657bd303e9d80166737",name:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043b\u0438\u043d\u0438\u0438",value:0,unit:""}]}],B=function(){return(0,v.jsxs)(i.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,v.jsx)(i.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,v.jsx)(s.Z,{variant:"h4",children:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u043e"})}),(0,v.jsx)(i.ZP,{container:!0,item:!0,spacing:3,children:z.map((function(e){return(0,v.jsx)(i.ZP,{item:!0,xs:12,children:(0,v.jsx)(_,{props:e},e.id)})}))})]})}},9616:function(e,n){var t=(new Intl.NumberFormat).format;n.Z=t},395:function(e,n,t){t.d(n,{_F:function(){return c},uQ:function(){return s}});var r=t(9439);function a(e){var n=Math.floor(e/3600);return[n,Math.floor(e/60)-60*n,Math.floor(e%60)]}function i(e,n){var t=[];return t[e]||(t[e]=e%100>4&&e%100<20?2:[2,0,1,1,1,2][Math.min(e%10,5)]),n[t[e]]}function s(e){var n=a(e),t=(0,r.Z)(n,3),s=t[0],c=t[1],o=t[2],u="";return s>0&&(u=s+" "+i(s,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])),c>0&&(u+=" "+c+" "+i(c,["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"])),o>0&&0===s&&(u+=" "+o+" "+i(o,["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])),u}function c(e){var n,t,i=a(e),s=(0,r.Z)(i,3),c=s[0],o=s[1],u=s[2];return n=o,t=u,[c.toString().padStart(2,"0"),n.toString().padStart(2,"0"),t.toString().padStart(2,"0")].join(":")}}}]);
//# sourceMappingURL=251.878e48c9.chunk.js.map